{"version":3,"sources":["api/api.js","reducers/authReducer.js","reducers/postsReducer.js","utils/ToastWrapper.js","components/Main/Comment.js","components/Main/Post.js","components/Main/NewPostSection.js","components/Main/AddFollowingSection.js","components/Main/LoadingCard.js","utils/helper.js","components/Main/Main.js","components/Landing/SignIn.js","components/Landing/SignUp.js","components/Landing/Landing.js","components/Profile.js","reducers/searchReducer.js","components/Header.js","components/App/App.js","reportWebVitals.js","index.js","store.js"],"names":["hostUrl","signIn","username","password","axios","post","withCredentials","getProfile","get","putZipcode","payload","put","putPhoneNumber","putDisplayName","putPassword","postArticle","putArticle","postId","getFollowing","toGet","uploader","img","formdata","FormData","append","headers","postImgUploader","text","fetchProfile","createAsyncThunk","a","response","data","authSlice","createSlice","name","initialState","user","id","accountName","displayName","phoneNumber","email","birthday","zipcode","status","avatarLink","following","timestamp","loggedin","error","reducers","userLogin","state","action","userLogout","triggerProfileUpdate","addAvatarLink","updateUserFollowing","extraReducers","builder","addCase","pending","fulfilled","_id","headline","phone","displayname","dob","avatar","rejected","actions","fetchPosts","postsSlice","items","postAdded","push","postsReplaceAll","updatePosts","concat","triggerPostUpdate","clearPosts","articles","message","toastProfile","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","handleRequestErr","err","showToastWithErr","showToastWithMsg","msg","toast","success","EditCommentView","cmt","addOpen","handleAddClose","addContent","onAddContentChanged","onAddCmtClicked","Modal","open","onClose","Paper","sx","top","left","transform","width","bgcolor","border","boxShadow","p","Stack","direction","spacing","TextField","label","value","onChange","rows","multiline","Button","variant","endIcon","onClick","Comment","comment","handleCommentClose","currentUser","useSelector","auth","React","setAddContent","setAddOpen","commentId","ListItem","alignItems","secondaryAction","IconButton","edge","display","author","ListItemAvatar","Avatar","alt","src","ListItemText","primary","secondary","Typography","component","color","e","target","EditView","editOpen","handleEditClose","editContent","onEditContentChanged","onDelete","onEditPostClicked","startIcon","CommentView","UserPost","dispatch","useDispatch","useState","renderComment","setRenderComment","setEditContent","commentOpen","setCommentOpen","handleCommentOpen","res","comments","map","setEditOpen","Card","maxWidth","CardHeader","title","subheader","date","Date","getHours","getMinutes","toDateString","displayTime","CardMedia","height","image","CardContent","CardActions","size","List","maxHeight","overflow","Input","styled","NewPostSection","content","onContentChanged","onPostClicked","handleChooseImg","Box","placeholder","htmlFor","accept","multiple","type","AddFollowingSection","addError","newfol","onNewfolChanged","handleFollowingAdd","pt","InputLabelProps","shrink","LoadingCard","m","Skeleton","animation","style","marginBottom","parseFetchedProfile","profile","Main","renderPosts","setContent","setStatus","setNewfol","setAddError","setImg","history","useHistory","posts","search","useEffect","then","catch","handleFollowingDelete","fol","toRemove","delete","toAdd","fetchNewContent","Grid","item","xs","md","lg","Array","length","slice","filter","includes","renderUserSection","mr","my","container","columns","justifyContent","nanoid","renderFriend","preventDefault","files","pb","SignIn","account","setTitle","warn","setWarn","loading","setLoading","autoComplete","gutterBottom","required","helperText","marginTop","CircularProgress","fullWidth","window","location","SignUp","newUser","setNewUser","accountNameError","phoneNumberError","zipcodeError","passwordError","isError","setError","verifyPassword","setVerifyPassword","checkIsError","handleInputChange","errors","JSON","parse","stringify","match","onSubmit","passwordWarn","register","inputProps","maxLength","InputProps","max","today","dd","getDate","mm","getMonth","yyyy","getFullYear","setMaxDate","pattern","marginLeft","Landing","divider","Divider","orientation","flexItem","sm","Profile","setUser","changed","setChanged","emailError","setAvtar","linkUsername","setLinkUsername","linkPassword","setLinkPassword","validateForm","checkError","key","changeUpdate","handleAccountLinking","result","setTimeout","renderInfoUpdateSection","disabled","hidden","elevation","pl","avatarUrl","searchSlice","updateSearch","Search","theme","borderRadius","shape","backgroundColor","alpha","palette","common","white","marginRight","breakpoints","up","SearchIconWrapper","padding","pointerEvents","StyledInputBase","InputBase","paddingLeft","transition","transitions","create","Header","useLocation","setSearch","logout","localStorage","clear","flexGrow","AppBar","Toolbar","noWrap","pathname","App","Container","exact","path","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","reducer","postsReducer","authReducer","searchReducer","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.19abfa96.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport const hostUrl = \"https://final-ricebookserver-jh135.herokuapp.com/\";\n// export const hostUrl = \"http://localhost:4200/\";\n\n/**\n * Login an user.\n * @param {*} username\n * @param {*} password\n * @returns\n */\nexport const signIn = (username, password) =>\n\taxios.post(\n\t\t`${hostUrl}login`,\n\t\t{ username: username, password: password },\n\t\t{ withCredentials: true }\n\t);\n\n/**\n * register a user.\n * @param {*} register\n * @returns\n */\nexport const signUp = (register) =>\n\taxios.post(`${hostUrl}register`, register, { withCredentials: true });\n\n/**\n * register a user.\n * @param {*} register\n * @returns\n */\nexport const signOut = () =>\n\taxios.put(`${hostUrl}logout`, {}, { withCredentials: true });\n\n/**\n * get current user profile.\n * @returns\n */\nexport const getProfile = () =>\n\taxios.get(`${hostUrl}profile`, { withCredentials: true });\n\n/**\n * update headline.\n * @returns\n */\nexport const putHeadline = (payload) =>\n\taxios.put(`${hostUrl}headline`, payload, { withCredentials: true });\n\n/**\n * update email.\n * @returns\n */\nexport const putEmail = (payload) =>\n\taxios.put(`${hostUrl}email`, payload, { withCredentials: true });\n\n/**\n * update zipcode.\n * @returns\n */\nexport const putZipcode = (payload) =>\n\taxios.put(`${hostUrl}zipcode`, payload, { withCredentials: true });\n\n/**\n * update phone.\n * @returns\n */\nexport const putPhoneNumber = (payload) =>\n\taxios.put(`${hostUrl}phone`, payload, { withCredentials: true });\n\n/**\n * update display name.\n * @returns\n */\nexport const putDisplayName = (payload) =>\n\taxios.put(`${hostUrl}displayname`, payload, { withCredentials: true });\n\n/**\n * update password.\n * @returns\n */\nexport const putPassword = (payload) =>\n\taxios.put(`${hostUrl}password`, payload, { withCredentials: true });\n\n/**\n * update avatar.\n * @returns\n */\nexport const putAvatar = (payload) =>\n\taxios.put(`${hostUrl}avatar`, payload, {\n\t\theaders: {\n\t\t\t\"Content-Type\": \"multipart/form-data\",\n\t\t},\n\t\twithCredentials: true,\n\t});\n\n/**\n * get current user feed.\n * @returns\n */\nexport const getArticle = () =>\n\taxios.get(`${hostUrl}articles`, { withCredentials: true });\n\n/**\n * post a new article.\n * @returns\n */\nexport const postArticle = (payload) =>\n\taxios.post(`${hostUrl}article`, payload, { withCredentials: true });\n\n/**\n * modify an article.\n * @returns\n */\nexport const putArticle = (postId, payload) =>\n\taxios.put(`${hostUrl}articles/${postId}`, payload, {\n\t\twithCredentials: true,\n\t});\n\n/**\n * get comments of an article.\n * @returns\n */\nexport const getComments = (postId) =>\n\taxios.get(`${hostUrl}comment/${postId}`, { withCredentials: true });\n\n/**\n * get followings.\n * @returns\n */\nexport const getFollowing = (toGet) =>\n\taxios.get(`${hostUrl}following/${toGet}`, { withCredentials: true });\n\n/**\n * add a new following.\n * @returns\n */\nexport const addFollowing = (toAdd) =>\n\taxios.put(`${hostUrl}following/${toAdd}`, {}, { withCredentials: true });\n\n/**\n * remove a following.\n * @returns\n */\nexport const removeFollowing = (toRemove) =>\n\taxios.delete(`${hostUrl}following/${toRemove}`, { withCredentials: true });\n\n/**\n *\n * @param {*} img\n * @returns\n */\nexport const uploader = (img) => {\n\tlet formdata = new FormData();\n\tformdata.append(\"image\", img);\n\treturn putAvatar(formdata);\n};\n\n/**\n *\n * @param {*} text\n * @param {*} img\n * @returns\n */\nexport const postImgUploader = (text, img) => {\n\tlet formdata = new FormData();\n\tformdata.append(\"image\", img);\n\tformdata.append(\"text\", text);\n\treturn postArticle(formdata);\n};\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { getProfile } from \"../api/api\";\n\nexport const fetchProfile = createAsyncThunk(\"auth/profile\", async () => {\n\ttry {\n\t\tconst response = await getProfile();\n\t\treturn response.data;\n\t} catch (err) {\n\t\treturn {};\n\t}\n});\n\nconst initialState = {\n\tuser: {\n\t\tid: \"\",\n\t\taccountName: \"\",\n\t\tdisplayName: \"\",\n\t\tphoneNumber: \"\",\n\t\temail: \"\",\n\t\tbirthday: \"\",\n\t\tzipcode: \"\",\n\t\tstatus: \"\",\n\t\tavatarLink: \"\",\n\t\tfollowing: [],\n\t\ttimestamp: \"\",\n\t},\n\tloggedin: false,\n\terror: false,\n\tstatus: \"idle\",\n};\n\n//it's an object where the keys will become action type strings,\n//and the functions are reducers that will be run when that action type is dispatched.\nconst authSlice = createSlice({\n\tname: \"auth\",\n\tinitialState,\n\treducers: {\n\t\tuserLogin(state, action) {\n\t\t\tstate.user = action.payload.user;\n\t\t\tstate.loggedin = action.payload.loggedin;\n\t\t\tstate.error = action.payload.error;\n\t\t},\n\n\t\tuserLogout(state, action) {\n\t\t\tstate.user = {\n\t\t\t\tid: \"\",\n\t\t\t\taccountName: \"\",\n\t\t\t\tdisplayName: \"\",\n\t\t\t\tphoneNumber: \"\",\n\t\t\t\temail: \"\",\n\t\t\t\tbirthday: \"\",\n\t\t\t\tzipcode: \"\",\n\t\t\t\tstatus: \"\",\n\t\t\t\tavatarLink: \"\",\n\t\t\t\tfollowing: [],\n\t\t\t\ttimestamp: \"\",\n\t\t\t};\n\t\t\tstate.loggedin = false;\n\t\t\tstate.error = false;\n\t\t\tstate.status = \"idle\";\n\t\t},\n\n\t\ttriggerProfileUpdate(state, action) {\n\t\t\tstate.status = \"idle\";\n\t\t},\n\n\t\taddAvatarLink(state, action) {\n\t\t\tstate.user.avatarLink = action.payload;\n\t\t},\n\n\t\tupdateUserFollowing(state, action) {\n\t\t\tstate.user = {\n\t\t\t\t...state.user,\n\t\t\t\tfollowing: action.payload.following,\n\t\t\t\ttimestamp: \"\",\n\t\t\t};\n\t\t},\n\t},\n\textraReducers(builder) {\n\t\tbuilder\n\t\t\t.addCase(fetchProfile.pending, (state, action) => {\n\t\t\t\tstate.status = \"loading\";\n\t\t\t})\n\t\t\t.addCase(fetchProfile.fulfilled, (state, action) => {\n\t\t\t\tstate.status = \"succeeded\";\n\t\t\t\tif (action.payload) {\n\t\t\t\t\tstate.user.id = action.payload._id;\n\t\t\t\t\tstate.user.status = action.payload.headline;\n\t\t\t\t\tstate.user.phoneNumber = action.payload.phone;\n\t\t\t\t\tstate.user.displayName = action.payload.displayname;\n\t\t\t\t\tstate.user.zipcode = action.payload.zipcode;\n\t\t\t\t\tstate.user.birthday = action.payload.dob;\n\t\t\t\t\tstate.user.avatarLink = action.payload.avatar;\n\t\t\t\t\tstate.user.email = action.payload.email;\n\t\t\t\t\tstate.user.following = action.payload.following;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.addCase(fetchProfile.rejected, (state, action) => {\n\t\t\t\tstate.status = \"failed\";\n\t\t\t});\n\t},\n});\n\nexport const { userLogin, userLogout, triggerProfileUpdate, addAvatarLink, updateUserFollowing } = authSlice.actions;\n\nexport default authSlice.reducer;\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\n\nimport { getArticle } from \"../api/api\";\n\nexport const fetchPosts = createAsyncThunk(\"posts/fetchPosts\", async () => {\n\ttry {\n\t\tconst response = await getArticle();\n\t\treturn response.data;\n\t} catch (err) {\n\t\treturn {};\n\t}\n});\n\nconst initialState = {\n\titems: [],\n\tstatus: \"idle\",\n\terror: null,\n};\n\nconst postsSlice = createSlice({\n\tname: \"posts\",\n\tinitialState,\n\treducers: {\n\t\tpostAdded(state, action) {\n\t\t\tstate.items.push(action.payload);\n\t\t},\n\t\tpostsReplaceAll(state, action) {\n\t\t\tstate.items = action.payload;\n\t\t},\n\t\tupdatePosts(state, action) {\n\t\t\tstate.status = \"succeeded\";\n\t\t\tstate.items = state.items.concat(action.payload);\n\t\t},\n\t\ttriggerPostUpdate(state, action) {\n\t\t\tstate.status = \"idle\";\n\t\t},\n\t\tclearPosts(state, action) {\n\t\t\tstate.items = [];\n\t\t\tstate.status = \"idle\";\n\t\t\tstate.error = null;\n\t\t},\n\t},\n\textraReducers(builder) {\n\t\tbuilder\n\t\t\t.addCase(fetchPosts.pending, (state, action) => {\n\t\t\t\tstate.status = \"loading\";\n\t\t\t})\n\t\t\t.addCase(fetchPosts.fulfilled, (state, action) => {\n\t\t\t\tstate.status = \"succeeded\";\n\t\t\t\tstate.items = action.payload.articles;\n\t\t\t})\n\t\t\t.addCase(fetchPosts.rejected, (state, action) => {\n\t\t\t\tstate.status = \"failed\";\n\t\t\t\tstate.error = action.error.message;\n\t\t\t});\n\t},\n});\n\nexport const { postAdded, updatePosts, postsReplaceAll, triggerPostUpdate, clearPosts } = postsSlice.actions;\n\nexport default postsSlice.reducer;\n","import { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nconst toastProfile = {\n\tposition: \"top-center\",\n\tautoClose: 3500,\n\thideProgressBar: false,\n\tcloseOnClick: true,\n\tpauseOnHover: false,\n\tdraggable: false,\n\tprogress: undefined,\n};\n\nexport const handleRequestErr = (err) => {\n    if (err.response.status === 400) {\n        showToastWithErr(\"check your input please!\");\n    } else if (err.response.status === 401) {\n        showToastWithErr(\"please login first!\");\n    } else if (err.response.status === 500) {\n        showToastWithErr(\"Oops! Server error!\");\n    } else {\n        showToastWithErr(\"Oops! Something went wrong!\");\n    }\n}\n\nexport const showToastWithMsg = (msg) => {\n\ttoast.success(msg, toastProfile);\n};\n\nexport const showToastWithErr = (err) => {\n\ttoast.error(err, toastProfile);\n};\n","import * as React from \"react\";\n\nimport Avatar from \"@mui/material/Avatar\";\nimport Typography from \"@mui/material/Typography\";\nimport { ListItem } from \"@mui/material\";\nimport { ListItemAvatar } from \"@mui/material\";\nimport { ListItemText } from \"@mui/material\";\nimport { IconButton } from \"@mui/material\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport SendIcon from \"@mui/icons-material/Send\";\nimport { useSelector } from \"react-redux\";\nimport { Modal } from \"@mui/material\";\nimport { Paper } from \"@mui/material\";\nimport { Stack } from \"@mui/material\";\nimport { TextField } from \"@mui/material\";\nimport { Button } from \"@mui/material\";\nimport { putArticle } from \"../../api/api\";\nimport { handleRequestErr, showToastWithMsg } from \"../../utils/ToastWrapper\";\nconst EditCommentView = ({\n\tcmt,\n\taddOpen,\n\thandleAddClose,\n\taddContent,\n\tonAddContentChanged,\n\tonAddCmtClicked,\n}) => (\n\t<Modal open={addOpen} onClose={handleAddClose}>\n\t\t<Paper\n\t\t\tsx={{\n\t\t\t\tposition: \"absolute\",\n\t\t\t\ttop: \"50%\",\n\t\t\t\tleft: \"50%\",\n\t\t\t\ttransform: \"translate(-50%, -50%)\",\n\t\t\t\twidth: 400,\n\t\t\t\tbgcolor: \"background.paper\",\n\t\t\t\tborder: \"2px solid #000\",\n\t\t\t\tboxShadow: 24,\n\t\t\t\tp: 4,\n\t\t\t}}\n\t\t>\n\t\t\t<Stack direction=\"column\" spacing={2}>\n\t\t\t\t<TextField\n\t\t\t\t\tname=\"content\"\n\t\t\t\t\tlabel=\"Edit this comment\"\n\t\t\t\t\tvalue={addContent}\n\t\t\t\t\tonChange={onAddContentChanged}\n\t\t\t\t\trows={2}\n\t\t\t\t\tmultiline\n\t\t\t\t/>\n\t\t\t\t<Button\n\t\t\t\t\tid=\"send-newpost\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tendIcon={<SendIcon />}\n\t\t\t\t\tonClick={onAddCmtClicked}\n\t\t\t\t>\n\t\t\t\t\tEdit Comment\n\t\t\t\t</Button>\n\t\t\t</Stack>\n\t\t</Paper>\n\t</Modal>\n);\n\nfunction Comment({ comment, postId, handleCommentClose }) {\n\tlet currentUser = useSelector((state) => state.auth);\n\n\tconst [addContent, setAddContent] = React.useState(comment.text);\n\tconst onAddContentChanged = (e) => setAddContent(e.target.value);\n\tconst [addOpen, setAddOpen] = React.useState(false);\n\tconst handleAddOpen = () => setAddOpen(true);\n\tconst handleAddClose = () => setAddOpen(false);\n\n\tconst onAddCmtClicked = async () => {\n\t\tif (addContent) {\n\t\t\tlet payload = { text: addContent, commentId: comment._id };\n\t\t\ttry {\n\t\t\t\tawait putArticle(postId, payload);\n\t\t\t\thandleAddClose();\n\t\t\t\thandleCommentClose();\n\t\t\t\tshowToastWithMsg(\"comment added!\")\n\t\t\t} catch (err) {\n\t\t\t\thandleRequestErr(err);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn (\n\t\t<ListItem\n\t\t\tkey={comment._id}\n\t\t\talignItems=\"flex-start\"\n\t\t\tsecondaryAction={\n\t\t\t\t<IconButton\n\t\t\t\t\tedge=\"end\"\n\t\t\t\t\taria-label=\"comments\"\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tdisplay:\n\t\t\t\t\t\t\tcomment.author === currentUser.user.accountName\n\t\t\t\t\t\t\t\t? \"visible\"\n\t\t\t\t\t\t\t\t: \"none\",\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={handleAddOpen}\n\t\t\t\t>\n\t\t\t\t\t<EditIcon />\n\t\t\t\t</IconButton>\n\t\t\t}\n\t\t>\n\t\t\t<ListItemAvatar>\n\t\t\t\t<Avatar alt=\"\" src={comment.avatar ? comment.avatar : \"\"} />\n\t\t\t</ListItemAvatar>\n\t\t\t<ListItemText\n\t\t\t\tprimary={comment.author}\n\t\t\t\tsecondary={\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tsx={{ display: \"inline\" }}\n\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\tcolor=\"text.primary\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{comment.text}\n\t\t\t\t\t</Typography>\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<EditCommentView\n\t\t\t\tcmt={comment}\n\t\t\t\taddOpen={addOpen}\n\t\t\t\thandleAddClose={handleAddClose}\n\t\t\t\taddContent={addContent}\n\t\t\t\tonAddContentChanged={onAddContentChanged}\n\t\t\t\tonAddCmtClicked={onAddCmtClicked}\n\t\t\t/>\n\t\t</ListItem>\n\t);\n}\n\nexport default Comment;\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport Card from \"@mui/material/Card\";\nimport CardHeader from \"@mui/material/CardHeader\";\nimport CardMedia from \"@mui/material/CardMedia\";\nimport CardContent from \"@mui/material/CardContent\";\nimport CardActions from \"@mui/material/CardActions\";\nimport Avatar from \"@mui/material/Avatar\";\nimport Typography from \"@mui/material/Typography\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport SendIcon from \"@mui/icons-material/Send\";\nimport { Button, Paper } from \"@mui/material\";\nimport { Stack } from \"@mui/material\";\nimport { TextField } from \"@mui/material\";\nimport { Modal } from \"@mui/material\";\nimport { List } from \"@mui/material\";\n\nimport Comment from \"./Comment\";\nimport { useSelector } from \"react-redux\";\nimport { getComments, putArticle } from \"../../api/api\";\nimport { triggerPostUpdate } from \"../../reducers/postsReducer\";\nimport { handleRequestErr, showToastWithMsg } from \"../../utils/ToastWrapper\";\n\nconst EditView = ({\n\tpost,\n\teditOpen,\n\thandleEditClose,\n\teditContent,\n\tonEditContentChanged,\n\tonDelete,\n\tonEditPostClicked,\n}) => (\n\t<Modal key={post._id + 1} open={editOpen} onClose={handleEditClose}>\n\t\t<Paper\n\t\t\tsx={{\n\t\t\t\tposition: \"absolute\",\n\t\t\t\ttop: \"50%\",\n\t\t\t\tleft: \"50%\",\n\t\t\t\ttransform: \"translate(-50%, -50%)\",\n\t\t\t\twidth: 400,\n\t\t\t\tbgcolor: \"background.paper\",\n\t\t\t\tborder: \"2px solid #000\",\n\t\t\t\tboxShadow: 24,\n\t\t\t\tp: 4,\n\t\t\t}}\n\t\t>\n\t\t\t<Stack direction=\"column\" spacing={2}>\n\t\t\t\t<TextField\n\t\t\t\t\tname=\"content\"\n\t\t\t\t\tlabel=\"Edit Post\"\n\t\t\t\t\tvalue={editContent}\n\t\t\t\t\tonChange={onEditContentChanged}\n\t\t\t\t\trows={4}\n\t\t\t\t\tmultiline\n\t\t\t\t/>\n\t\t\t\t<Stack direction=\"row\" spacing={2}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor=\"error\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tstartIcon={<DeleteIcon />}\n\t\t\t\t\t\tonClick={onDelete}\n\t\t\t\t\t>\n\t\t\t\t\t\tClear\n\t\t\t\t\t</Button>\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\tid=\"send-newpost\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tendIcon={<SendIcon />}\n\t\t\t\t\t\tonClick={onEditPostClicked}\n\t\t\t\t\t>\n\t\t\t\t\t\tUpdate Post\n\t\t\t\t\t</Button>\n\t\t\t\t</Stack>\n\t\t\t</Stack>\n\t\t</Paper>\n\t</Modal>\n);\n\nconst CommentView = ({\n\tpost,\n\taddOpen,\n\thandleAddClose,\n\taddContent,\n\tonAddContentChanged,\n\tonDelete,\n\tonAddCmtClicked,\n}) => (\n\t<Modal key={post._id + 2} open={addOpen} onClose={handleAddClose}>\n\t\t<Paper\n\t\t\tsx={{\n\t\t\t\tposition: \"absolute\",\n\t\t\t\ttop: \"50%\",\n\t\t\t\tleft: \"50%\",\n\t\t\t\ttransform: \"translate(-50%, -50%)\",\n\t\t\t\twidth: 400,\n\t\t\t\tbgcolor: \"background.paper\",\n\t\t\t\tborder: \"2px solid #000\",\n\t\t\t\tboxShadow: 24,\n\t\t\t\tp: 4,\n\t\t\t}}\n\t\t>\n\t\t\t<Stack direction=\"column\" spacing={2}>\n\t\t\t\t<TextField\n\t\t\t\t\tname=\"content\"\n\t\t\t\t\tlabel=\"Add a comment\"\n\t\t\t\t\tvalue={addContent}\n\t\t\t\t\tonChange={onAddContentChanged}\n\t\t\t\t\trows={4}\n\t\t\t\t\tmultiline\n\t\t\t\t/>\n\t\t\t\t<Stack direction=\"row\" spacing={2}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor=\"error\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tstartIcon={<DeleteIcon />}\n\t\t\t\t\t\tonClick={onDelete}\n\t\t\t\t\t>\n\t\t\t\t\t\tClear\n\t\t\t\t\t</Button>\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\tid=\"send-newpost\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tendIcon={<SendIcon />}\n\t\t\t\t\t\tonClick={onAddCmtClicked}\n\t\t\t\t\t>\n\t\t\t\t\t\tSend Comment\n\t\t\t\t\t</Button>\n\t\t\t\t</Stack>\n\t\t\t</Stack>\n\t\t</Paper>\n\t</Modal>\n);\n\nfunction UserPost({ post }) {\n\tconst dispatch = useDispatch();\n\tlet currentUser = useSelector((state) => state.auth);\n\n\tconst [renderComment, setRenderComment] = React.useState(undefined);\n\n\tconst [editContent, setEditContent] = React.useState(post.text);\n\tconst [addContent, setAddContent] = React.useState(\"\");\n\n\tconst onEditContentChanged = (e) => setEditContent(e.target.value);\n\tconst onAddContentChanged = (e) => setAddContent(e.target.value);\n\n\tconst [commentOpen, setCommentOpen] = React.useState(false);\n\tconst handleCommentOpen = async () => {\n\t\tsetCommentOpen(true);\n\n\t\tlet res = await getComments(post._id);\n\t\tsetRenderComment(\n\t\t\tres.data.comments.map((cmt) => (\n\t\t\t\t<Comment key={cmt._id} comment={cmt} postId={post._id} handleCommentClose={handleCommentClose}/>\n\t\t\t))\n\t\t);\n\t};\n\tconst handleCommentClose = () => setCommentOpen(false);\n\n\tconst [editOpen, setEditOpen] = React.useState(false);\n\tconst handleEditOpen = () => setEditOpen(true);\n\tconst handleEditClose = () => setEditOpen(false);\n\n\tconst [addOpen, setAddOpen] = React.useState(false);\n\tconst handleAddOpen = () => setAddOpen(true);\n\tconst handleAddClose = () => setAddOpen(false);\n\n\tconst displayTime = () => {\n\t\tlet date = new Date(post.date);\n\t\treturn (\n\t\t\tdate.getHours() +\n\t\t\t\":\" +\n\t\t\tdate.getMinutes() +\n\t\t\t\" \" +\n\t\t\tdate.toDateString()\n\t\t);\n\t};\n\n\tconst onEditPostClicked = async () => {\n\t\tif (editContent !== post.text) {\n\t\t\tlet payload = { text: editContent };\n\t\t\ttry {\n\t\t\t\tawait putArticle(post._id, payload);\n\t\t\t\tdispatch(triggerPostUpdate());\n\t\t\t\tshowToastWithMsg(\"edited!\");\n\t\t\t\thandleEditClose();\n\t\t\t} catch (err) {\n\t\t\t\thandleRequestErr(err);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst onAddCmtClicked = async () => {\n\t\tif (addContent) {\n\t\t\tlet payload = { text: addContent, commentId: -1 };\n\t\t\ttry {\n\t\t\t\tawait putArticle(post._id, payload);\n\t\t\t\tshowToastWithMsg(\"commented!\");\n\t\t\t\thandleAddClose();\n\t\t\t} catch (err) {\n\t\t\t\thandleRequestErr(err);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst onDelete = () => {\n\t\tsetEditContent(\"\");\n\t\tsetAddContent(\"\");\n\t};\n\n\treturn (\n\t\t<Card key={post._id} sx={{ maxWidth: 345 }}>\n\t\t\t<CardHeader\n\t\t\t\tavatar={\n\t\t\t\t\t<Avatar alt={post.author} src={post.avatar ? post.avatar : \"\"} />\n\t\t\t\t}\n\t\t\t\ttitle={post.author}\n\t\t\t\tsubheader={displayTime(post)}\n\t\t\t/>\n\n\t\t\t<CardMedia sx={{display: post.img ? \"visible\" : \"none\"}} component=\"img\" height=\"194\" image={post.img} />\n\n\t\t\t<CardContent>\n\t\t\t\t<Typography variant=\"body\" color=\"text.secondary\">\n\t\t\t\t\t{post.text}\n\t\t\t\t</Typography>\n\t\t\t</CardContent>\n\n\t\t\t<CardActions>\n\t\t\t\t<Button\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tcolor=\"success\"\n\t\t\t\t\tonClick={handleEditOpen}\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tdisplay:\n\t\t\t\t\t\t\tpost.author === currentUser.user.accountName\n\t\t\t\t\t\t\t\t? \"visible\"\n\t\t\t\t\t\t\t\t: \"none\",\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tEdit\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\tonClick={handleAddOpen}\n\t\t\t\t>\n\t\t\t\t\tComment\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tonClick={handleCommentOpen}\n\t\t\t\t>\n\t\t\t\t\tAll Comments\n\t\t\t\t</Button>\n\t\t\t</CardActions>\n\n\t\t\t<EditView\n\t\t\t\tpost={post}\n\t\t\t\teditOpen={editOpen}\n\t\t\t\thandleEditClose={handleEditClose}\n\t\t\t\teditContent={editContent}\n\t\t\t\tonEditContentChanged={onEditContentChanged}\n\t\t\t\tonDelete={onDelete}\n\t\t\t\tonEditPostClicked={onEditPostClicked}\n\t\t\t/>\n\n\t\t\t<CommentView\n\t\t\t\tpost={post}\n\t\t\t\taddOpen={addOpen}\n\t\t\t\thandleAddClose={handleAddClose}\n\t\t\t\taddContent={addContent}\n\t\t\t\tonAddContentChanged={onAddContentChanged}\n\t\t\t\tonDelete={onDelete}\n\t\t\t\tonAddCmtClicked={onAddCmtClicked}\n\t\t\t/>\n\n\t\t\t<Modal\n\t\t\t\tkey={post._id + 3}\n\t\t\t\topen={commentOpen}\n\t\t\t\tonClose={handleCommentClose}\n\t\t\t\taria-labelledby=\"modal-modal-title\"\n\t\t\t\taria-describedby=\"modal-modal-description\"\n\t\t\t>\n\t\t\t\t<Paper\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\ttop: \"50%\",\n\t\t\t\t\t\tleft: \"50%\",\n\t\t\t\t\t\ttransform: \"translate(-50%, -50%)\",\n\t\t\t\t\t\twidth: 400,\n\t\t\t\t\t\tbgcolor: \"background.paper\",\n\t\t\t\t\t\tborder: \"2px solid #000\",\n\t\t\t\t\t\tboxShadow: 24,\n\t\t\t\t\t\tp: 4,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Typography variant=\"h4\">Comments</Typography>\n\t\t\t\t\t<List\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\tmaxHeight: 500,\n\t\t\t\t\t\t\toverflow: \"auto\",\n\t\t\t\t\t\t\tbgcolor: \"background.paper\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{renderComment}\n\t\t\t\t\t</List>\n\t\t\t\t</Paper>\n\t\t\t</Modal>\n\t\t</Card>\n\t);\n}\n\nexport default UserPost;\n","import { Box } from \"@mui/system\";\nimport { Stack } from \"@mui/material\";\nimport { TextField } from \"@mui/material\";\nimport { Button } from \"@mui/material\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport SendIcon from \"@mui/icons-material/Send\";\nimport { styled } from \"@mui/material/styles\";\nimport { Typography } from \"@mui/material\";\n\nconst Input = styled(\"input\")({\n\tdisplay: \"none\",\n});\n\nconst NewPostSection = ({content, onContentChanged, onDelete, onPostClicked, img, handleChooseImg}) => (\n    <Box>\n        <Stack direction=\"column\" spacing={2}>\n            <TextField\n                id=\"content-newpost\"\n                name=\"content\"\n                label=\"New Post\"\n                placeholder=\"Write something...\"\n                value={content}\n                onChange={onContentChanged}\n                rows={4}\n                multiline\n            />\n\n            <Stack direction=\"row\" spacing={2}>\n                <Button\n                    color=\"error\"\n                    variant=\"outlined\"\n                    startIcon={<DeleteIcon />}\n                    onClick={onDelete}\n                >\n                    Delete\n                </Button>\n                <label htmlFor=\"upload-img-btn\">\n                    <Input\n                        accept=\"image/*\"\n                        id=\"upload-img-btn\"\n                        multiple\n                        type=\"file\"\n                        onChange={handleChooseImg}\n                    />\n                    <Button variant=\"contained\" component=\"span\">\n                        Upload Image\n                    </Button>\n                </label>\n                <Typography>\n                    {img ? img.name : \"Not selected\"}\n                </Typography>\n                <Button\n                    id=\"send-newpost\"\n                    variant=\"contained\"\n                    endIcon={<SendIcon />}\n                    onClick={onPostClicked}\n                >\n                    Send\n                </Button>\n            </Stack>\n        </Stack>\n    </Box>\n);\n\nexport default NewPostSection;","import { Stack } from \"@mui/material\";\nimport { TextField } from \"@mui/material\";\nimport { Button } from \"@mui/material\";\n\nconst AddFollowingSection = ({addError, newfol, onNewfolChanged, handleFollowingAdd}) => (\n    <Stack\n        pt={2}\n        direction=\"row\"\n        spacing={2}\n        alignItems=\"center\"\n    >\n        <TextField\n            id=\"add-following-input-main\"\n            label=\"New following\"\n            variant=\"outlined\"\n            placeholder={\n                addError\n                    ? \"User not found\"\n                    : \"Enter username...\"\n            }\n            value={newfol}\n            color={addError ? \"warning\" : \"success\"}\n            onChange={onNewfolChanged}\n            InputLabelProps={{ shrink: true }}\n        />\n\n        <Button\n            id=\"add-following-btn-main\"\n            name=\"add\"\n            variant=\"outlined\"\n            size=\"small\"\n            onClick={handleFollowingAdd}\n        >\n            Add\n        </Button>\n    </Stack>\n);\n\nexport default AddFollowingSection;","import * as React from 'react';\nimport { Card } from '@mui/material';\nimport CardHeader from \"@mui/material/CardHeader\";\nimport CardContent from \"@mui/material/CardContent\";\nimport { Skeleton } from \"@mui/material\";\n\nconst LoadingCard = () => (\n\t<Card sx={{ maxWidth: 345, m: 2 }}>\n\t\t<CardHeader\n\t\t\tavatar={\n\t\t\t\t<Skeleton\n\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\tvariant=\"circular\"\n\t\t\t\t\twidth={40}\n\t\t\t\t\theight={40}\n\t\t\t\t/>\n\t\t\t}\n\t\t\ttitle={\n\t\t\t\t<Skeleton\n\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\theight={10}\n\t\t\t\t\twidth=\"80%\"\n\t\t\t\t\tstyle={{ marginBottom: 6 }}\n\t\t\t\t/>\n\t\t\t}\n\t\t\tsubheader={<Skeleton animation=\"wave\" height={10} width=\"40%\" />}\n\t\t/>\n\t\t<Skeleton sx={{ height: 190 }} animation=\"wave\" variant=\"rectangular\" />\n\n\t\t<CardContent>\n\t\t\t<React.Fragment>\n\t\t\t\t<Skeleton\n\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\theight={10}\n\t\t\t\t\tstyle={{ marginBottom: 6 }}\n\t\t\t\t/>\n\t\t\t\t<Skeleton animation=\"wave\" height={10} width=\"80%\" />\n\t\t\t</React.Fragment>\n\t\t</CardContent>\n\t</Card>\n);\n\nexport default LoadingCard;\n","export const parseFetchedProfile = (profile) => {\n    return {\n        id: profile._id,\n        accountName: profile.username,\n        displayName: profile.displayName,\n        phoneNumber: \"\",\n        email: profile.email,\n        birthday: profile.dob,\n        zipcode: profile.zipcode,\n        status: profile.headline,\n        avatarLink: profile.avatarLink,\n        following: profile.following,\n        timestamp: \"\",\n    };\n};\n\n\n","import React, { useState, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { nanoid } from \"@reduxjs/toolkit\";\n\nimport {\n\tfetchProfile,\n\tuserLogin,\n\ttriggerProfileUpdate,\n\tupdateUserFollowing,\n} from \"../../reducers/authReducer\";\nimport { fetchPosts, triggerPostUpdate } from \"../../reducers/postsReducer\";\nimport UserPost from \"./Post\";\n\nimport { Typography } from \"@mui/material\";\nimport { Grid } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { TextField } from \"@mui/material\";\nimport { Stack } from \"@mui/material\";\nimport Button from \"@mui/material/Button\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport RefreshIcon from \"@mui/icons-material/Refresh\";\nimport { Avatar } from \"@mui/material\";\nimport MoodIcon from \"@mui/icons-material/Mood\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport ListItemAvatar from \"@mui/material/ListItemAvatar\";\n\nimport { List } from \"@mui/material\";\nimport ListItem from \"@mui/material/ListItem\";\nimport IconButton from \"@mui/material/IconButton\";\n\nimport {\n\taddFollowing,\n\tgetFollowing,\n\tgetProfile,\n\tpostArticle,\n\tpostImgUploader,\n\tputHeadline,\n\tremoveFollowing,\n} from \"../../api/api\";\nimport NewPostSection from \"./NewPostSection\";\nimport AddFollowingSection from \"./AddFollowingSection\";\nimport LoadingCard from \"./LoadingCard\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport {\n\thandleRequestErr,\n\tshowToastWithMsg,\n} from \"../../utils/ToastWrapper\";\nimport { parseFetchedProfile } from \"../../utils/helper\";\n\nfunction Main() {\n\tconst [content, setContent] = useState(\"\");\n\tconst [status, setStatus] = useState(\"\");\n\tconst [newfol, setNewfol] = useState(\"\");\n\tconst [addError, setAddError] = useState(false);\n\tconst [img, setImg] = useState(undefined);\n\n\tconst dispatch = useDispatch();\n\tconst history = useHistory();\n\n\tconst onContentChanged = (e) => setContent(e.target.value);\n\tconst onStatusChanged = (e) => setStatus(e.target.value);\n\tconst onNewfolChanged = (e) => setNewfol(e.target.value);\n\n\t// get post and user from state\n\tconst posts = useSelector((state) => state.posts);\n\tlet currentUser = useSelector((state) => state.auth);\n\tconst search = useSelector((state) => state.search);\n\n\tlet renderPosts;\n\n\tuseEffect(() => {\n\t\tif (currentUser.loggedin === false) {\n\t\t\tgetProfile()\n\t\t\t\t.then((res) => {\n\t\t\t\t\tdispatch(\n\t\t\t\t\t\tuserLogin({\n\t\t\t\t\t\t\tuser: parseFetchedProfile(res.data),\n\t\t\t\t\t\t\tloggedin: true,\n\t\t\t\t\t\t\terror: false,\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t});\n\t\t}\n\t}, []);\n\n\tuseEffect(() => {\n\t\tlet isMounted = true;\n\t\tif (currentUser.loggedin && currentUser.status === \"idle\") {\n\t\t\tdispatch(fetchProfile());\n\t\t}\n\t\tif (currentUser.loggedin && posts.status === \"idle\") {\n\t\t\tdispatch(fetchPosts());\n\t\t}\n\t\treturn () => {\n\t\t\tisMounted = false;\n\t\t};\n\t}, [currentUser, posts, dispatch]);\n\n\t\n\n\tconst handleChooseImg = (e) => {\n\t\te.preventDefault();\n\t\tsetImg(e.target.files[0]);\n\t};\n\n\tconst onPostClicked = async () => {\n\t\tif (content && img) {\n\t\t\tpostImgUploader(content, img)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tshowToastWithMsg(\"article with image posted!\");\n\t\t\t\t\tdispatch(triggerPostUpdate());\n\t\t\t\t\tsetContent(\"\");\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\thandleRequestErr(err);\n\t\t\t\t});\n\t\t} else if (content) {\n\t\t\tlet payload = { text: content };\n\t\t\ttry {\n\t\t\t\tawait postArticle(payload);\n\t\t\t\tshowToastWithMsg(\"article posted!\");\n\t\t\t\tdispatch(triggerPostUpdate());\n\t\t\t\tsetContent(\"\");\n\t\t\t} catch (err) {\n\t\t\t\thandleRequestErr(err);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst handleStatusUpdate = () => {\n\t\tif (status) {\n\t\t\tputHeadline({ headline: status })\n\t\t\t\t.then((res) => {\n\t\t\t\t\tdispatch(\n\t\t\t\t\t\tuserLogin({\n\t\t\t\t\t\t\t...currentUser,\n\t\t\t\t\t\t\tuser: {\n\t\t\t\t\t\t\t\t...currentUser.user,\n\t\t\t\t\t\t\t\tstatus: res.data.headline,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t\tsetStatus(\"\");\n\t\t\t\t\tshowToastWithMsg(\"headline updated!\");\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\thandleRequestErr(err);\n\t\t\t\t\tsetStatus(\"\");\n\t\t\t\t});\n\t\t}\n\t};\n\n\tconst handleFollowingDelete = async (fol) => {\n\t\ttry {\n\t\t\tawait removeFollowing(fol);\n\t\t\tlet res = await getFollowing(\"\");\n\t\t\tdispatch(updateUserFollowing(res.data));\n\t\t\tdispatch(triggerPostUpdate());\n\t\t\tshowToastWithMsg(\"following deleted!\");\n\t\t} catch (err) {\n\t\t\thandleRequestErr(err);\n\t\t}\n\t};\n\n\tconst handleFollowingAdd = async () => {\n\t\tif (newfol === \"\") {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tawait addFollowing(newfol);\n\t\t\tlet res = await getFollowing(\"\");\n\t\t\tdispatch(updateUserFollowing(res.data));\n\t\t\tdispatch(triggerPostUpdate());\n\t\t\tshowToastWithMsg(\"following added!\");\n\t\t\tsetAddError(false);\n\t\t} catch (err) {\n\t\t\thandleRequestErr(err);\n\t\t\tsetAddError(true);\n\t\t}\n\n\t\tsetNewfol(\"\");\n\t};\n\n\tconst onDelete = () => {\n\t\tsetContent(\"\");\n\t};\n\n\tconst fetchNewContent = async () => {\n\t\tdispatch(triggerPostUpdate());\n\n\t\ttry {\n\t\t\tlet res = await getFollowing(\"\");\n\t\t\tdispatch(updateUserFollowing(res.data));\n\t\t} catch (err) {\n\t\t\thandleRequestErr(err);\n\t\t}\n\t};\n\n\tif (posts.status === \"loading\") {\n\t\trenderPosts = (\n\t\t\t<Grid key=\"loading-card\" item xs={3} md={4} lg={3}>\n\t\t\t\t<LoadingCard />\n\t\t\t</Grid>\n\t\t);\n\t} else if (posts.status === \"succeeded\") {\n\t\tlet isAnyPosts = posts.items instanceof Array && posts.items.length > 0;\n\t\trenderPosts = isAnyPosts ? (\n\t\t\tposts.items\n\t\t\t\t.slice()\n\t\t\t\t.filter((post) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tpost.text.includes(search.text) ||\n\t\t\t\t\t\tpost.author === search.text\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.map((post) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Grid key={post._id} item xs={3} md={4} lg={3}>\n\t\t\t\t\t\t\t<UserPost post={post} />\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t) : (\n\t\t\t<div></div>\n\t\t);\n\t} else if (posts.status === \"failed\") {\n\t\trenderPosts = <div>{posts.error}</div>;\n\t}\n\n\t// friend list\n\tconst renderFriend = () => {\n\t\tif (currentUser.user.following) {\n\t\t\treturn currentUser.user.following.slice().map((profile) => {\n\t\t\t\treturn (\n\t\t\t\t\t<ListItem\n\t\t\t\t\t\tkey={nanoid()}\n\t\t\t\t\t\tsecondaryAction={\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tedge=\"end\"\n\t\t\t\t\t\t\t\taria-label=\"delete\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\thandleFollowingDelete(profile.username);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<DeleteIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t\t\t<Avatar alt=\"friendsAvatar\" src={profile.avatar} />\n\t\t\t\t\t\t</ListItemAvatar>\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tprimary={profile.username}\n\t\t\t\t\t\t\tsecondary={profile.headline}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ListItem>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t};\n\n\tconst renderUserSection = (\n\t\t<Stack direction=\"row\" spacing={3} sx={{ width: \"100%\" }}>\n\t\t\t<Box sx={{ height: 10 }} />\n\n\t\t\t<Avatar\n\t\t\t\talt=\"userAvatar\"\n\t\t\t\tsrc={currentUser.user.avatarLink}\n\t\t\t\tsx={{ width: 150, height: 150 }}\n\t\t\t/>\n\n\t\t\t<Stack direction=\"column\" spacing={4}>\n\t\t\t\t<Stack direction=\"row\" spacing={3}>\n\t\t\t\t\t<Typography id=\"account-name-main-display\" variant=\"h3\">\n\t\t\t\t\t\t{currentUser.user.accountName}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\taria-label=\"Refresh page\"\n\t\t\t\t\t\tonClick={fetchNewContent}\n\t\t\t\t\t>\n\t\t\t\t\t\t<RefreshIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Stack>\n\n\t\t\t\t<Typography variant=\"h6\">{currentUser.user.status}</Typography>\n\t\t\t\t<Box\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\talignItems: \"flex-end\",\n\t\t\t\t\t\twidth: 400,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<MoodIcon\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\tcolor: \"action.active\",\n\t\t\t\t\t\t\tmr: 1,\n\t\t\t\t\t\t\tmy: 0.5,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tid=\"input-status\"\n\t\t\t\t\t\tlabel=\"Status\"\n\t\t\t\t\t\tvariant=\"standard\"\n\t\t\t\t\t\tplaceholder=\"Update your status...\"\n\t\t\t\t\t\tvalue={status}\n\t\t\t\t\t\tonChange={onStatusChanged}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tsx={{ width: 100 }}\n\t\t\t\t\tonClick={handleStatusUpdate}\n\t\t\t\t>\n\t\t\t\t\tUpdate\n\t\t\t\t</Button>\n\t\t\t</Stack>\n\t\t</Stack>\n\t);\n\n\treturn (\n\t\t<Grid container spacing={6} columns={{ xs: 6, md: 8, lg: 12 }}>\n\t\t\t<Grid item xs={6} md={8} lg={12}>\n\t\t\t\t<Box />\n\t\t\t</Grid>\n\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\titem\n\t\t\t\txs={6}\n\t\t\t\tmd={8}\n\t\t\t\tlg={12}\n\t\t\t\tspacing={4}\n\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t>\n\t\t\t\t<Grid key=\"renderUserSection\" item xs={6} md={8} lg={5}>\n\t\t\t\t\t{renderUserSection}\n\t\t\t\t</Grid>\n\t\t\t\t<Grid key=\"renderFriend\" item xs={6} md={8} lg={6}>\n\t\t\t\t\t<Typography variant=\"h6\" component=\"div\">\n\t\t\t\t\t\tFollowing\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<List\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\tmaxWidth: 500,\n\t\t\t\t\t\t\tmaxHeight: 200,\n\t\t\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\t\t\toverflow: \"auto\",\n\t\t\t\t\t\t\tbgcolor: \"background.paper\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tid=\"friend-list-main\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{renderFriend()}\n\t\t\t\t\t</List>\n\n\t\t\t\t\t<AddFollowingSection\n\t\t\t\t\t\taddError={addError}\n\t\t\t\t\t\tnewfol={newfol}\n\t\t\t\t\t\tonNewfolChanged={onNewfolChanged}\n\t\t\t\t\t\thandleFollowingAdd={handleFollowingAdd}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\n\t\t\t<Grid key=\"NewPostSection\" item xs={6} md={8} lg={12}>\n\t\t\t\t<NewPostSection\n\t\t\t\t\tcontent={content}\n\t\t\t\t\tonContentChanged={onContentChanged}\n\t\t\t\t\tonDelete={onDelete}\n\t\t\t\t\tonPostClicked={onPostClicked}\n\t\t\t\t\timg={img}\n\t\t\t\t\thandleChooseImg={handleChooseImg}\n\t\t\t\t/>\n\t\t\t</Grid>\n\n\t\t\t<Grid\n\t\t\t\tkey=\"renderPosts\"\n\t\t\t\tid=\"posts-grid-container\"\n\t\t\t\tcontainer\n\t\t\t\titem\n\t\t\t\txs={6}\n\t\t\t\tmd={8}\n\t\t\t\tlg={12}\n\t\t\t\tspacing={4}\n\t\t\t\tpb={10}\n\t\t\t>\n\t\t\t\t{renderPosts}\n\t\t\t</Grid>\n\t\t</Grid>\n\t);\n}\n\nexport default Main;\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport Box from \"@mui/material/Box\";\nimport TextField from \"@mui/material/TextField\";\nimport { Button } from \"@mui/material\";\nimport Typography from \"@mui/material/Typography\";\nimport { Stack } from \"@mui/material\";\n\nimport { userLogin } from \"../../reducers/authReducer\";\nimport GoogleButton from \"react-google-button\";\n\nimport { hostUrl, signIn } from \"../../api/api\";\nimport { CircularProgress } from \"@mui/material\";\n\nfunction SignIn() {\n\tconst dispatch = useDispatch();\n\tlet history = useHistory();\n\n\tconst [account, setTitle] = useState(\"\");\n\tconst [password, setContent] = useState(\"\");\n\tconst [warn, setWarn] = useState(\"\");\n\n\tconst [loading, setLoading] = useState(false);\n\n\tconst onAccountChanged = (e) => setTitle(e.target.value);\n\tconst onPasswordChanged = (e) => setContent(e.target.value);\n\n\tconst validateForm = (e) => {\n\t\te.preventDefault();\n\n\t\tif (account === \"\" || password === \"\") {\n\t\t\tsetWarn(\"Enter Account name and password to sign in\");\n\t\t\treturn false;\n\t\t}\n\n\t\tlet currentUser = {\n\t\t\tid: \"\",\n\t\t\taccountName: \"\",\n\t\t\tdisplayName: \"\",\n\t\t\temail: \"\",\n\t\t\tbirthday: \"\",\n\t\t\tzipcode: \"\",\n\t\t\tstatus: \"\",\n\t\t\tavatarLink: \"\",\n\t\t\tfollowing: [],\n\t\t\ttimestamp: \"\",\n\t\t};\n\n\t\tsetLoading(true);\n\n\t\tsignIn(account, password)\n\t\t\t.then((res) => {\n\t\t\t\tsetWarn(\"\");\n\n\t\t\t\tdispatch(\n\t\t\t\t\tuserLogin({\n\t\t\t\t\t\tuser: {\n\t\t\t\t\t\t\t...currentUser,\n\t\t\t\t\t\t\taccountName: res.data.username,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tloggedin: true,\n\t\t\t\t\t\terror: false,\n\t\t\t\t\t})\n\t\t\t\t);\n\n\t\t\t\tsetLoading(false);\n\n\t\t\t\thistory.push(\"/main\");\n\t\t\t\treturn true;\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tif (!err.response) {\n\t\t\t\t\tsetWarn(\"Server error. Please try again.\");\n\t\t\t\t} else if (err.response.status === 401) {\n\t\t\t\t\tsetWarn(\"Account name/password incorrect\");\n\t\t\t\t} else if (err.response.status === 500) {\n\t\t\t\t\tsetWarn(\"Server error. Please try again.\");\n\t\t\t\t}\n\n\t\t\t\tsetLoading(false);\n\n\t\t\t\tdispatch(\n\t\t\t\t\tuserLogin({\n\t\t\t\t\t\tuser: currentUser,\n\t\t\t\t\t\tloggedin: false,\n\t\t\t\t\t\terror: true,\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t};\n\n\tconst handleGoogleLogin = () => {\n\t\twindow.top.location = `${hostUrl}auth/google`;\n\t}\n\n\treturn (\n\t\t<Box\n\t\t\tcomponent=\"form\"\n\t\t\tsx={{\n\t\t\t\t\"& .MuiTextField-root\": { m: 1, width: \"25ch\" },\n\t\t\t}}\n\t\t\tautoComplete=\"off\"\n\t\t\tpt={20}\n\t\t>\n\t\t\t<Typography variant=\"h3\" gutterBottom component=\"div\">\n\t\t\t\tSign In\n\t\t\t</Typography>\n\t\t\t<div>\n\t\t\t\t<TextField\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tid=\"account-name-input\"\n\t\t\t\t\tlabel=\"Account Name\"\n\t\t\t\t\tplaceholder=\"Your account name\"\n\t\t\t\t\terror={warn !== \"\"}\n\t\t\t\t\tonChange={onAccountChanged}\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<TextField\n\t\t\t\tid=\"password-input\"\n\t\t\t\tlabel=\"Password\"\n\t\t\t\ttype=\"password\"\n\t\t\t\tonChange={onPasswordChanged}\n\t\t\t\terror={warn !== \"\"}\n\t\t\t\thelperText={warn}\n\t\t\t\trequired\n\t\t\t/>\n\n\t\t\t<Stack direction=\"column\" spacing={5} sx={{ marginTop: 2 }}>\n\t\t\t\t<CircularProgress sx={{display: loading? \"visible\" : \"none\"}}/>\n\t\t\t\t<Button\n\t\t\t\t\tfullWidth\n\t\t\t\t\tid=\"signin-btn\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tsize=\"large\"\n\t\t\t\t\tonClick={validateForm}\n\t\t\t\t>\n\t\t\t\t\tSign in\n\t\t\t\t</Button>\n\n\t\t\t\t<GoogleButton onClick={handleGoogleLogin}/>\n\t\t\t</Stack>\n\t\t</Box>\n\t);\n}\n\nexport default SignIn;\n","import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Box from \"@mui/material/Box\";\nimport TextField from \"@mui/material/TextField\";\nimport { Button } from \"@mui/material\";\nimport Stack from \"@mui/material/Stack\";\nimport { Typography } from \"@mui/material\";\n\nimport { userLogin } from \"../../reducers/authReducer.js\";\nimport { signUp } from \"../../api/api.js\";\nimport { CircularProgress } from \"@mui/material\";\nimport { handleRequestErr, showToastWithErr } from \"../../utils/ToastWrapper.js\";\n\nfunction SignUp() {\n\tlet currentUser = {\n\t\tid: \"\",\n\t\taccountName: \"\",\n\t\tdisplayName: \"\",\n\t\tphoneNumber: \"\",\n\t\temail: \"\",\n\t\tbirthday: \"\",\n\t\tzipcode: \"\",\n\t\tstatus: \"\",\n\t\tavatarLink: \"\",\n\t\tfollowing: [],\n\t\ttimestamp: \"\",\n\t};\n\n\tconst history = useHistory();\n\tconst dispatch = useDispatch();\n\n\tconst [loading, setLoading] = useState(false);\n\n\t// new user form\n\tconst [newUser, setNewUser] = useState({\n\t\taccountName: \"\",\n\t\tdisplayName: \"\",\n\t\temail: \"\",\n\t\tphoneNumber: \"\",\n\t\tbirthday: \"\",\n\t\tzipcode: \"\",\n\t\tpassword: \"\",\n\t});\n\n\t// display error message\n\tconst [isError, setError] = useState({\n\t\taccountNameError: \"\",\n\t\tphoneNumberError: \"\",\n\t\tzipcodeError: \"\",\n\t\tpasswordError: \"\",\n\t});\n\n\t// verify password\n\tconst [verifyPassword, setVerifyPassword] = useState(\"\");\n\n\tconst onVerifyPasswordChanged = (e) => setVerifyPassword(e.target.value);\n\n\t// onSubmit\n\tconst validateForm = (e) => {\n\t\te.preventDefault();\n\n\t\tlet passwordWarn =\n\t\t\tnewUser.password === verifyPassword ? \"\" : \"Password do not match\";\n\n\t\tsetError({\n\t\t\t...isError,\n\t\t\tpasswordError: passwordWarn,\n\t\t});\n\n\t\tif (passwordWarn !== \"\" || !checkIsError()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet payload = {\n\t\t\tusername: newUser.accountName,\n\t\t\tpassword: newUser.password,\n\t\t\tdob: newUser.birthday,\n\t\t\temail: newUser.email,\n\t\t\tzipcode: newUser.zipcode,\n\t\t\tphone: newUser.phoneNumber,\n\t\t\tdisplayname: newUser.displayName\n\t\t};\n\n\t\tsetLoading(true);\n\n\t\tsignUp(payload)\n\t\t\t.then((res) => {\n\t\t\t\tdispatch(\n\t\t\t\t\tuserLogin({\n\t\t\t\t\t\tuser: {\n\t\t\t\t\t\t\t...currentUser,\n\t\t\t\t\t\t\taccountName: res.data.username,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tloggedin: true,\n\t\t\t\t\t\terror: false,\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tsetLoading(false);\n\t\t\t\thistory.push(\"/main\");\n\t\t\t\treturn true;\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tif (err.response.status === 400) {\n\t\t\t\t\tshowToastWithErr(err.response.data);\n\t\t\t\t} else {\n\t\t\t\t\thandleRequestErr(err);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tsetLoading(false);\n\t\t\t\t\n\t\t\t\tdispatch(\n\t\t\t\t\tuserLogin({\n\t\t\t\t\t\tloggedin: false,\n\t\t\t\t\t\terror: true,\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t};\n\n\tconst checkIsError = () => {\n\t\treturn (\n\t\t\tisError.accountNameError === \"\" &&\n\t\t\tisError.phoneNumberError === \"\" &&\n\t\t\tisError.zipcodeError === \"\" &&\n\t\t\tisError.passwordError === \"\"\n\t\t);\n\t};\n\n\t// set date to be at least 18 years ago\n\tconst setMaxDate = () => {\n\t\tlet today = new Date();\n\t\tlet dd = today.getDate();\n\t\tlet mm = today.getMonth() + 1;\n\t\tlet yyyy = today.getFullYear() - 18;\n\t\tif (dd < 10) {\n\t\t\tdd = \"0\" + dd;\n\t\t}\n\t\tif (mm < 10) {\n\t\t\tmm = \"0\" + mm;\n\t\t}\n\n\t\ttoday = yyyy + \"-\" + mm + \"-\" + dd;\n\t\treturn today;\n\t};\n\n\tconst handleInputChange = (e) => {\n\t\te.preventDefault();\n\t\t// name and value of current component\n\t\tconst { name, value } = e.target;\n\t\t// deepcopy of errors\n\t\tvar errors = JSON.parse(JSON.stringify(isError));\n\n\t\tswitch (name) {\n\t\t\tcase \"accountName\":\n\t\t\t\terrors.accountNameError =\n\t\t\t\t\tvalue.match(/^[a-zA-Z]{1}[a-zA-Z0-9]*$/) || value === \"\"\n\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t: \"Uppercase, lowercase, and numbers only. May not begin with numbers\";\n\t\t\t\tbreak;\n\t\t\tcase \"phoneNumber\":\n\t\t\t\terrors.phoneNumberError =\n\t\t\t\t\tvalue.match(/[0-9]{3}-[0-9]{3}-[0-9]{4}/i) || value === \"\"\n\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t: \"10 digit phone number with dashes\";\n\t\t\t\tbreak;\n\t\t\tcase \"zipcode\":\n\t\t\t\terrors.zipcodeError =\n\t\t\t\t\tvalue.match(/[0-9]{5}/i) || value === \"\"\n\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t: \"US Zip Code, 5 digits long and number only\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\tsetError(errors);\n\n\t\tsetNewUser({\n\t\t\t...newUser,\n\t\t\t[name]: value,\n\t\t});\n\t};\n\n\tfunction resetFields() {\n\t\tsetNewUser({\n\t\t\taccountName: \"\",\n\t\t\tdisplayName: \"\",\n\t\t\temail: \"\",\n\t\t\tphoneNumber: \"\",\n\t\t\tbirthday: \"\",\n\t\t\tzipcode: \"\",\n\t\t\tpassword: \"\",\n\t\t});\n\n\t\tsetError({\n\t\t\taccountNameError: \"\",\n\t\t\tphoneNumberError: \"\",\n\t\t\tzipcodeError: \"\",\n\t\t\tpasswordError: \"\",\n\t\t});\n\n\t\tsetVerifyPassword(\"\");\n\t}\n\n\treturn (\n\t\t<Box\n\t\t\tsx={{\n\t\t\t\t\"& .MuiTextField-root\": { m: 1, width: \"25ch\" },\n\t\t\t}}\n\t\t\tpt={20}\n\t\t>\n\t\t\t<Typography variant=\"h3\" gutterBottom component=\"div\">\n\t\t\t\tSign Up\n\t\t\t</Typography>\n\t\t\t<form onSubmit={validateForm}>\n\t\t\t\t<div>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tlabel=\"Account Name\"\n\t\t\t\t\t\tplaceholder=\"Your account name\"\n\t\t\t\t\t\ttitle=\"Account name can only be upper or lower case letters and numbers, but may not start with a number.\"\n\t\t\t\t\t\tname=\"accountName\"\n\t\t\t\t\t\tvalue={newUser.accountName}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\terror={isError.accountNameError !== \"\"}\n\t\t\t\t\t\thelperText={isError.accountNameError}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\n\t\t\t\t\t<TextField\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tlabel=\"Display Name\"\n\t\t\t\t\t\tplaceholder=\"Your display name\"\n\t\t\t\t\t\tname=\"displayName\"\n\t\t\t\t\t\tvalue={newUser.displayName}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\tplaceholder=\"your@gmail.com\"\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\tvalue={newUser.email}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\n\t\t\t\t\t<TextField\n\t\t\t\t\t\ttype=\"tel\"\n\t\t\t\t\t\tlabel=\"Phone Number\"\n\t\t\t\t\t\tplaceholder=\"123-123-1234\"\n\t\t\t\t\t\tinputProps={{ maxLength: 12 }}\n\t\t\t\t\t\ttitle=\"US Phone Number with Dashes\"\n\t\t\t\t\t\tname=\"phoneNumber\"\n\t\t\t\t\t\tvalue={newUser.phoneNumber}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\terror={isError.phoneNumberError !== \"\"}\n\t\t\t\t\t\thelperText={isError.phoneNumberError}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\tid=\"dob-input\"\n\t\t\t\t\t\tlabel=\"Birthday\"\n\t\t\t\t\t\tname=\"birthday\"\n\t\t\t\t\t\tInputProps={{ inputProps: { max: setMaxDate() } }}\n\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\n\t\t\t\t\t\tvalue={newUser.birthday}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\n\t\t\t\t\t<TextField\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tlabel=\"Zipcode\"\n\t\t\t\t\t\tpattern=\"[0-9]{5}\"\n\t\t\t\t\t\tplaceholder=\"77005\"\n\t\t\t\t\t\ttitle=\"5-digit US Zip Code\"\n\t\t\t\t\t\tinputProps={{ maxLength: 5 }}\n\t\t\t\t\t\tname=\"zipcode\"\n\t\t\t\t\t\tvalue={newUser.zipcode}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\terror={isError.zipcodeError !== \"\"}\n\t\t\t\t\t\thelperText={isError.zipcodeError}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tvalue={newUser.password}\n\t\t\t\t\t\terror={isError.passwordError !== \"\"}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tlabel=\"Password Confirm\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\tvalue={verifyPassword}\n\t\t\t\t\t\tonChange={onVerifyPasswordChanged}\n\t\t\t\t\t\terror={isError.passwordError !== \"\"}\n\t\t\t\t\t\thelperText={isError.passwordError}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<Stack\n\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\tsx={{ marginLeft: 5, marginTop: 2 }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CircularProgress sx={{display: loading? \"visible\" : \"none\"}}/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tid=\"submit-btn\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSign up\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"reset\"\n\t\t\t\t\t\t\tid=\"clear-btn\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"error\"\n\t\t\t\t\t\t\tonClick={resetFields}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tClear\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Stack>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</Box>\n\t);\n}\n\nexport default SignUp;\n","import React from \"react\";\nimport SignIn from \"./SignIn\";\nimport SignUp from \"./SignUp\";\nimport Stack from '@mui/material/Stack';\nimport Divider from '@mui/material/Divider';\nimport { Box } from \"@mui/system\";\n\nfunction Landing() {\n\treturn (\n\t\t<Box pt={3}>\n\t\t\t<Stack\n\t\t\t\tdirection=\"row\"\n\t\t\t\tjustifyContent=\"center\"\n\t\t\t\talignItems=\"center\"\n\t\t\t\tdivider={<Divider orientation=\"vertical\" flexItem />}\n\t\t\t\tspacing={{xs: 1, sm: 2, md: 4, lg:8}}\n\t\t\t>\n\t\t\t\t<SignUp />\n\t\t\t\t<SignIn />\n\t\t\t</Stack>\n\t\t</Box>\n\t);\n}\n\nexport default Landing;\n","import React, { useState, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\n\nimport { Paper, Typography } from \"@mui/material\";\nimport { Avatar } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { Stack } from \"@mui/material\";\nimport { Button } from \"@mui/material\";\nimport { styled } from \"@mui/material/styles\";\nimport { TextField } from \"@mui/material\";\nimport { Grid } from \"@mui/material\";\nimport {\n\taddAvatarLink,\n\ttriggerProfileUpdate,\n\tuserLogin,\n} from \"../reducers/authReducer\";\nimport { fetchProfile } from \"../reducers/authReducer\";\nimport {\n\tgetProfile,\n\thostUrl,\n\tputDisplayName,\n\tputEmail,\n\tputPassword,\n\tputPhoneNumber,\n\tputZipcode,\n\tsignIn,\n} from \"../api/api\";\nimport { uploader } from \"../api/api\";\nimport {\n\thandleRequestErr,\n\tshowToastWithErr,\n\tshowToastWithMsg,\n} from \"../utils/ToastWrapper\";\nimport { parseFetchedProfile } from \"../utils/helper\";\n\nconst Input = styled(\"input\")({\n\tdisplay: \"none\",\n});\n\nfunction Profile() {\n\tconst history = useHistory();\n\tconst dispatch = useDispatch();\n\n\t// load current user\n\tlet currentUser = useSelector((state) => state.auth);\n\n\t// new user form\n\tconst [user, setUser] = useState({\n\t\tdisplayName: \"\",\n\t\temail: \"\",\n\t\tphoneNumber: \"\",\n\t\tzipcode: \"\",\n\t\tpassword: \"\",\n\t\tavatarLink: \"\",\n\t});\n\n\tconst [changed, setChanged] = useState({\n\t\tdisplayName: false,\n\t\temail: false,\n\t\tphoneNumber: false,\n\t\tzipcode: false,\n\t\tpassword: false,\n\t\tavatarLink: false,\n\t});\n\n\t// display error message\n\tconst [isError, setError] = useState({\n\t\temailError: \"\",\n\t\tphoneNumberError: \"\",\n\t\tzipcodeError: \"\",\n\t\tpasswordError: \"\",\n\t});\n\n\tconst [avatar, setAvtar] = useState(undefined);\n\n\t// verify password\n\tconst [verifyPassword, setVerifyPassword] = useState(\"\");\n\n\tconst [linkUsername, setLinkUsername] = useState(\"\");\n\tconst [linkPassword, setLinkPassword] = useState(\"\");\n\n\tconst onVerifyPasswordChanged = (e) => setVerifyPassword(e.target.value);\n\tconst onLinkUsernameChanged = (e) => setLinkUsername(e.target.value);\n\tconst onLinkPasswordChanged = (e) => setLinkPassword(e.target.value);\n\n\tuseEffect(() => {\n\t\tif (currentUser.loggedin === false) {\n\t\t\tgetProfile()\n\t\t\t\t.then((res) => {\n\t\t\t\t\tdispatch(\n\t\t\t\t\t\tuserLogin({\n\t\t\t\t\t\t\tuser: parseFetchedProfile(res.data),\n\t\t\t\t\t\t\tloggedin: true,\n\t\t\t\t\t\t\terror: false,\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t\tsetLinkUsername(currentUser.user.accountName);\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t});\n\t\t}\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (currentUser.loggedin && currentUser.status === \"idle\") {\n\t\t\tdispatch(fetchProfile());\n\t\t}\n\t}, [currentUser, dispatch]);\n\n\tconst validateForm = async (e) => {\n\t\te.preventDefault();\n\n\t\tlet passwordWarn =\n\t\t\tuser.password === verifyPassword ? \"\" : \"Password do not match\";\n\n\t\tsetError({\n\t\t\t...isError,\n\t\t\tpasswordError: passwordWarn,\n\t\t});\n\n\t\tif (passwordWarn !== \"\" || !checkError()) {\n\t\t\treturn false;\n\t\t}\n\n\t\ttry {\n\t\t\tif (user.email !== \"\") {\n\t\t\t\tawait putEmail({ email: user.email });\n\t\t\t}\n\n\t\t\tif (user.zipcode !== \"\") {\n\t\t\t\tawait putZipcode({ zipcode: user.zipcode });\n\t\t\t}\n\n\t\t\tif (user.displayName !== \"\") {\n\t\t\t\tawait putDisplayName({ displayname: user.displayName });\n\t\t\t}\n\n\t\t\tif (user.phoneNumber !== \"\") {\n\t\t\t\tawait putPhoneNumber({ phone: user.phoneNumber });\n\t\t\t}\n\n\t\t\tif (user.password !== \"\") {\n\t\t\t\tawait putPassword({ password: user.password });\n\t\t\t}\n\t\t} catch (err) {\n\t\t\thandleRequestErr(err);\n\t\t\treturn false;\n\t\t}\n\n\t\tdispatch(triggerProfileUpdate());\n\n\t\tlet changeUpdate = {};\n\n\t\tfor (const key in user) {\n\t\t\tchangeUpdate[key] = user[key] !== \"\";\n\t\t}\n\n\t\tsetChanged(changeUpdate);\n\n\t\tsetUser({\n\t\t\tdisplayName: \"\",\n\t\t\temail: \"\",\n\t\t\tphoneNumber: \"\",\n\t\t\tzipcode: \"\",\n\t\t\tpassword: \"\",\n\t\t\tavatarLink: \"\",\n\t\t});\n\n\t\tsetVerifyPassword(\"\");\n\n\t\treturn true;\n\t};\n\n\tconst checkError = () => {\n\t\treturn (\n\t\t\tisError.emailError === \"\" &&\n\t\t\tisError.phoneNumberError === \"\" &&\n\t\t\tisError.zipcodeError === \"\" &&\n\t\t\tisError.passwordError === \"\"\n\t\t);\n\t};\n\n\t/**\n\t * handle input\n\t * @param {*} e\n\t */\n\tconst handleInputChange = (e) => {\n\t\te.preventDefault();\n\t\t// name and value of current component\n\t\tconst { name, value } = e.target;\n\t\t// deepcopy of errors\n\t\tvar errors = JSON.parse(JSON.stringify(isError));\n\n\t\tswitch (name) {\n\t\t\tcase \"phoneNumber\":\n\t\t\t\terrors.phoneNumberError =\n\t\t\t\t\tvalue.match(/[0-9]{3}-[0-9]{3}-[0-9]{4}/i) || value === \"\"\n\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t: \"10 digit phone number with dashes\";\n\n\t\t\t\tbreak;\n\t\t\tcase \"zipcode\":\n\t\t\t\terrors.zipcodeError =\n\t\t\t\t\tvalue.match(/[0-9]{5}/i) || value === \"\"\n\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t: \"US Zip Code, 5 digits long and number only\";\n\t\t\t\tbreak;\n\t\t\tcase \"email\":\n\t\t\t\terrors.emailError =\n\t\t\t\t\tvalue.match(\n\t\t\t\t\t\t/^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{1,3})+$/\n\t\t\t\t\t) || value === \"\"\n\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t: \"Enter valid email address, e.g., a@b.c\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\tsetError(errors);\n\n\t\tsetUser({\n\t\t\t...user,\n\t\t\t[name]: value,\n\t\t});\n\t};\n\n\tconst handleChooseImg = (e) => {\n\t\te.preventDefault();\n\n\t\tsetAvtar(e.target.files[0]);\n\t};\n\n\tconst handleAvatarChange = (e) => {\n\t\te.preventDefault();\n\n\t\tif (avatar !== undefined) {\n\t\t\tuploader(avatar)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tlet avatarUrl = res.data.avatar;\n\t\t\t\t\tdispatch(addAvatarLink(avatarUrl));\n\t\t\t\t\tshowToastWithMsg(\"avatar changed!\");\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\thandleRequestErr(err);\n\t\t\t\t});\n\t\t}\n\t};\n\n\tconst redirect = () => {\n\t\thistory.push(\"/main\");\n\t};\n\n\tconst handleAccountLinking = async () => {\n\t\tif (linkPassword && linkUsername) {\n\t\t\ttry {\n\t\t\t\tlet res = await signIn(linkUsername, linkPassword);\n\t\t\t\tif (res.data.result === \"success\") {\n\t\t\t\t\tshowToastWithMsg(\"Sucess, now going to Google\");\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\twindow.top.location = `${hostUrl}auth/google`;\n\t\t\t\t\t}, 3500);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\thandleRequestErr(err);\n\t\t\t}\n\t\t} else {\n\t\t\tshowToastWithErr(\"type this account name and password first\");\n\t\t}\n\t};\n\n\tconst renderInfoUpdateSection = (\n\t\t<Stack direction=\"column\" spacing={4} pb={10}>\n\t\t\t<Box />\n\t\t\t<Stack direction=\"row\" spacing={6} alignItems=\"center\">\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"display-name-profile\"\n\t\t\t\t\tlabel=\"Display Name\"\n\t\t\t\t\tvalue={currentUser.user.displayName}\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tdisabled\n\t\t\t\t\tInputLabelProps={{ shrink: true }}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tid=\"display-name-input\"\n\t\t\t\t\tlabel=\"Display Name\"\n\t\t\t\t\tplaceholder=\"Your display name\"\n\t\t\t\t\tname=\"displayName\"\n\t\t\t\t\tvalue={user.displayName}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\tid=\"display-name-changed\"\n\t\t\t\t\thidden={!changed.displayName}\n\t\t\t\t>\n\t\t\t\t\tDisplay name changed\n\t\t\t\t</Typography>\n\t\t\t</Stack>\n\n\t\t\t<Stack direction=\"row\" spacing={6} alignItems=\"center\">\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\tvalue={currentUser.user.email}\n\t\t\t\t\ttype=\"email\"\n\t\t\t\t\tdisabled\n\t\t\t\t\tInputLabelProps={{ shrink: true }}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\ttype=\"email\"\n\t\t\t\t\tid=\"email-address-input\"\n\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\tplaceholder=\"your@gmail.com\"\n\t\t\t\t\tname=\"email\"\n\t\t\t\t\tvalue={user.email}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\terror={isError.emailError !== \"\"}\n\t\t\t\t\thelperText={isError.emailError}\n\t\t\t\t/>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\tid=\"email-address-changed\"\n\t\t\t\t\thidden={!changed.email}\n\t\t\t\t>\n\t\t\t\t\tEmail address changed\n\t\t\t\t</Typography>\n\t\t\t</Stack>\n\n\t\t\t<Stack direction=\"row\" spacing={6} alignItems=\"center\">\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Phone Number\"\n\t\t\t\t\tvalue={currentUser.user.phoneNumber}\n\t\t\t\t\ttype=\"tel\"\n\t\t\t\t\tdisabled\n\t\t\t\t\tInputLabelProps={{ shrink: true }}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\ttype=\"tel\"\n\t\t\t\t\tid=\"phone-number-input\"\n\t\t\t\t\tlabel=\"Phone Number\"\n\t\t\t\t\tplaceholder=\"123-123-1234\"\n\t\t\t\t\tinputProps={{ maxLength: 12 }}\n\t\t\t\t\ttitle=\"US Phone Number with Dashes\"\n\t\t\t\t\tname=\"phoneNumber\"\n\t\t\t\t\tvalue={user.phoneNumber}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\terror={isError.phoneNumberError !== \"\"}\n\t\t\t\t\thelperText={isError.phoneNumberError}\n\t\t\t\t/>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\tid=\"phone-number-changed\"\n\t\t\t\t\thidden={!changed.phoneNumber}\n\t\t\t\t>\n\t\t\t\t\tPhone number changed\n\t\t\t\t</Typography>\n\t\t\t</Stack>\n\n\t\t\t<Stack direction=\"row\" spacing={6} alignItems=\"center\">\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Zipcode\"\n\t\t\t\t\tvalue={currentUser.user.zipcode}\n\t\t\t\t\tdisabled\n\t\t\t\t\tInputLabelProps={{ shrink: true }}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tid=\"zipcode-input\"\n\t\t\t\t\tlabel=\"Zipcode\"\n\t\t\t\t\tpattern=\"[0-9]{5}\"\n\t\t\t\t\tplaceholder=\"77005\"\n\t\t\t\t\ttitle=\"5-digit US Zip Code\"\n\t\t\t\t\tinputProps={{ maxLength: 5 }}\n\t\t\t\t\tname=\"zipcode\"\n\t\t\t\t\tvalue={user.zipcode}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\terror={isError.zipcodeError !== \"\"}\n\t\t\t\t\thelperText={isError.zipcodeError}\n\t\t\t\t/>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\tid=\"zipcode-changed\"\n\t\t\t\t\thidden={!changed.zipcode}\n\t\t\t\t>\n\t\t\t\t\tZipcode changed\n\t\t\t\t</Typography>\n\t\t\t</Stack>\n\n\t\t\t<Stack direction=\"row\" spacing={6} alignItems=\"center\">\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tvalue={currentUser.user.password}\n\t\t\t\t\tdisabled\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"password-input\"\n\t\t\t\t\tlabel=\"New Password\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\tvalue={user.password}\n\t\t\t\t\terror={isError.passwordError !== \"\"}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\tid=\"password-changed\"\n\t\t\t\t\thidden={!changed.password}\n\t\t\t\t>\n\t\t\t\t\tPassword changed\n\t\t\t\t</Typography>\n\t\t\t</Stack>\n\n\t\t\t<Stack direction=\"row\" spacing={6} alignItems=\"center\">\n\t\t\t\t<Typography variant=\"h6\">Verify password:</Typography>\n\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"password-input-confirm\"\n\t\t\t\t\tlabel=\"Password Confirm\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\tvalue={verifyPassword}\n\t\t\t\t\tonChange={onVerifyPasswordChanged}\n\t\t\t\t\terror={isError.passwordError !== \"\"}\n\t\t\t\t\thelperText={isError.passwordError}\n\t\t\t\t/>\n\t\t\t</Stack>\n\n\t\t\t<Stack\n\t\t\t\tdirection=\"row\"\n\t\t\t\tspacing={6}\n\t\t\t\talignItems=\"center\"\n\t\t\t\tjustifyContent=\"flex-start\"\n\t\t\t>\n\t\t\t\t<Button\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tid=\"update-btn\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={validateForm}\n\t\t\t\t>\n\t\t\t\t\tUpdate Profile\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tid=\"main-page-btn\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={redirect}\n\t\t\t\t>\n\t\t\t\t\tGo back to main\n\t\t\t\t</Button>\n\t\t\t</Stack>\n\n\t\t\t<Box />\n\n\t\t\t<Paper elevation={5} sx={{ width: 700 }}>\n\t\t\t\t<Stack direction=\"row\" spacing={3} pt={2} pb={2} pl={2}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tlabel=\"Username\"\n\t\t\t\t\t\tplaceholder=\"your account name\"\n\t\t\t\t\t\tvalue={linkUsername}\n\t\t\t\t\t\tonChange={onLinkUsernameChanged}\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\tvalue={linkPassword}\n\t\t\t\t\t\tonChange={onLinkPasswordChanged}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button onClick={handleAccountLinking}>\n\t\t\t\t\t\tLogin to link your accounts\n\t\t\t\t\t</Button>\n\t\t\t\t</Stack>\n\t\t\t</Paper>\n\t\t</Stack>\n\t);\n\n\treturn (\n\t\t<Box pl={10}>\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tspacing={{ xs: 2, md: 6, lg: 8 }}\n\t\t\t\tcolumns={{ xs: 6, md: 8, lg: 16 }}\n\t\t\t>\n\t\t\t\t<Grid item xs={6} md={8} lg={4}>\n\t\t\t\t\t<Stack direction=\"column\" spacing={4}>\n\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\talt=\"userAvatar\"\n\t\t\t\t\t\t\tsrc={currentUser.user.avatarLink}\n\t\t\t\t\t\t\tsx={{ width: 180, height: 180, marginTop: 4 }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<label htmlFor=\"upload-profile-btn\">\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\t\t\tid=\"upload-profile-btn\"\n\t\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\tonChange={handleChooseImg}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\t\t\tsx={{ marginLeft: 2.5 }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tChoose Image\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t{avatar ? avatar.name : \"Not selected\"}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tsx={{ width: 180 }}\n\t\t\t\t\t\t\tonClick={handleAvatarChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tChange Avatar\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Stack>\n\t\t\t\t</Grid>\n\n\t\t\t\t<Grid item xs={6} md={8} lg={12}>\n\t\t\t\t\t{renderInfoUpdateSection}\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Box>\n\t);\n}\n\nexport default Profile;\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n    text: \"\",\n    location: \"/\",\n};\n\n//it's an object where the keys will become action type strings,\n//and the functions are reducers that will be run when that action type is dispatched.\nconst searchSlice = createSlice({\n\tname: \"search\",\n\tinitialState,\n\treducers: {\n\t\tupdateSearch(state, action) {\n\t\t\tstate.text = action.payload.text;\n\t\t\tstate.location = action.payload.location;\n\t\t}\n\t},\n});\n\nexport const { updateSearch } = searchSlice.actions;\n\nexport default searchSlice.reducer;\n","import React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { useLocation } from 'react-router-dom';\n\nimport { styled, alpha } from \"@mui/material/styles\";\nimport AppBar from \"@mui/material/AppBar\";\nimport Box from \"@mui/material/Box\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Typography from \"@mui/material/Typography\";\nimport InputBase from \"@mui/material/InputBase\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport { Button } from \"@mui/material\";\n\nimport { userLogout } from \"../reducers/authReducer\";\nimport { updateSearch } from \"../reducers/searchReducer\";\nimport { signOut } from \"../api/api\";\nimport { clearPosts } from \"../reducers/postsReducer\";\nimport { CircularProgress } from \"@mui/material\";\nimport { handleRequestErr } from \"../utils/ToastWrapper\";\n\nconst Search = styled(\"div\")(({ theme }) => ({\n\tposition: \"relative\",\n\tborderRadius: theme.shape.borderRadius,\n\tbackgroundColor: alpha(theme.palette.common.white, 0.15),\n\t\"&:hover\": {\n\t\tbackgroundColor: alpha(theme.palette.common.white, 0.25),\n\t},\n\tmarginRight: theme.spacing(2),\n\tmarginLeft: 0,\n\twidth: \"100%\",\n\t[theme.breakpoints.up(\"sm\")]: {\n\t\tmarginLeft: theme.spacing(3),\n\t\twidth: \"auto\",\n\t},\n}));\n\nconst SearchIconWrapper = styled(\"div\")(({ theme }) => ({\n\tpadding: theme.spacing(0, 2),\n\theight: \"100%\",\n\tposition: \"absolute\",\n\tpointerEvents: \"none\",\n\tdisplay: \"flex\",\n\talignItems: \"center\",\n\tjustifyContent: \"center\",\n}));\n\nconst StyledInputBase = styled(InputBase)(({ theme }) => ({\n\tcolor: \"inherit\",\n\t\"& .MuiInputBase-input\": {\n\t\tpadding: theme.spacing(1, 1, 1, 0),\n\t\t// vertical padding + font size from searchIcon\n\t\tpaddingLeft: `calc(1em + ${theme.spacing(4)})`,\n\t\ttransition: theme.transitions.create(\"width\"),\n\t\twidth: \"100%\",\n\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\twidth: \"20ch\",\n\t\t},\n\t},\n}));\n\nexport default function Header() {\n\tconst dispatch = useDispatch();\n\tconst history = useHistory();\n\tconst location = useLocation();\n\n\tconst currentUser = useSelector((state) => state.auth);\n\n\tconst [search, setSearch] = useState(\"\");\n\tconst [loading, setLoading] = useState(false);\n\n\tconst onSearchChanged = (e) => setSearch(e.target.value);\n\n\tconst gotoProfile = () => {\n\t\thistory.push(\"/profile\");\n\t};\n\n\tconst logout = async () => {\n\t\ttry {\n\t\t\tsetLoading(true);\n\t\t\tawait signOut();\n\t\t\tdispatch(userLogout());\n\t\t\tdispatch(clearPosts());\n\t\t\twindow.localStorage.clear();\n\t\t\tsetLoading(false);\n\t\t\thistory.push(\"/\");\n\t\t} catch (err) {\n\t\t\thandleRequestErr(err);\n\t\t}\n\t};\n\n\tconst searchTxt = () => {\n\t\tdispatch(\n\t\t\tupdateSearch({\n\t\t\t\ttext: search,\n\t\t\t\tlocation: location.pathname,\n\t\t\t})\n\t\t);\n\t};\n\n\treturn (\n\t\t<Box sx={{ flexGrow: 1 }}>\n\t\t\t<AppBar position=\"static\">\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<Box sx={{ width: 80 }} />\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\t\tsx={{ display: { xs: \"none\", sm: \"block\" } }}\n\t\t\t\t\t>\n\t\t\t\t\t\tRicebook\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Search\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\tdisplay: currentUser.loggedin ? \"visible\" : \"none\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SearchIconWrapper>\n\t\t\t\t\t\t\t<SearchIcon />\n\t\t\t\t\t\t</SearchIconWrapper>\n\t\t\t\t\t\t<StyledInputBase\n\t\t\t\t\t\t\tid=\"search-input-header\"\n\t\t\t\t\t\t\tplaceholder=\"Search…\"\n\t\t\t\t\t\t\tinputProps={{ \"aria-label\": \"search\" }}\n\t\t\t\t\t\t\tvalue={search}\n\t\t\t\t\t\t\tonChange={onSearchChanged}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Search>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tid=\"find-btn-header\"\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\tdisplay: currentUser.loggedin ? \"visible\" : \"none\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"success\"\n\t\t\t\t\t\tonClick={searchTxt}\n\t\t\t\t\t>\n\t\t\t\t\t\tFind\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Box sx={{ flexGrow: 1 }} />\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\tdisplay: currentUser.loggedin ? \"visible\" : \"none\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"success\"\n\t\t\t\t\t\tonClick={gotoProfile}\n\t\t\t\t\t>\n\t\t\t\t\t\tProfile\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Box sx={{ width: 30 }} />\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\tdisplay: currentUser.loggedin ? \"visible\" : \"none\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tid=\"logout-btn-header\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"error\"\n\t\t\t\t\t\tonClick={logout}\n\t\t\t\t\t>\n\t\t\t\t\t\tLogout\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Box sx={{ width: 10 }} />\n\t\t\t\t\t<CircularProgress color=\"inherit\" sx={{display: loading? \"visible\" : \"none\"}}/>\n\t\t\t\t\t<Box sx={{ width: 80 }} />\n\t\t\t\t</Toolbar>\n\t\t\t</AppBar>\n\t\t</Box>\n\t);\n}\n","import React, { Component } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\n\nimport Container from '@mui/material/Container';\n\nimport Main from \"../Main/Main\";\nimport Landing from \"../Landing/Landing\";\nimport Profile from \"../Profile\";\nimport Header from \"../Header\";\nimport { ToastContainer } from \"react-toastify\";\nimport 'react-toastify/dist/ReactToastify.css';\n// import Image from \"../../assets/rice_university.jpg\";\n\n// const styles = {\n// \tbackgroundImage: `url(${Image})`,\n// }\n\nclass App extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Header />\n\t\t\t\t<Container maxWidth=\"xl\">\n\t\t\t\t\t<ToastContainer />\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route exact path={\"/\"}>\n\t\t\t\t\t\t\t<Landing />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route exact path=\"/main\">\n\t\t\t\t\t\t\t<Main />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route exact path=\"/profile\">\n\t\t\t\t\t\t\t<Profile />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t</Switch>\n\t\t\t\t</Container>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","// Roboto font\nimport \"@fontsource/roboto/300.css\";\nimport \"@fontsource/roboto/400.css\";\nimport \"@fontsource/roboto/500.css\";\nimport \"@fontsource/roboto/700.css\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport { Provider } from \"react-redux\";\n\nimport configureStore from \"./store\";\n\nconst store = configureStore;\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<BrowserRouter>\n\t\t\t<App />\n\t\t</BrowserRouter>\n\t</Provider>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { configureStore } from \"@reduxjs/toolkit\";\n\nimport postsReducer from \"./reducers/postsReducer\";\nimport authReducer from \"./reducers/authReducer\";\nimport searchReducer from \"./reducers/searchReducer\";\n\nexport default configureStore({\n\treducer: {\n\t\tposts: postsReducer,\n\t\tauth: authReducer,\n\t\tsearch: searchReducer,\n\t},\n});\n"],"sourceRoot":""}